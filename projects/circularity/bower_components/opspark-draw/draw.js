!function(e){let t="retangular",n="circular";function r(e,t){return e-t}function i(e,t){return t-e}function s(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function o(e,t,n,r){return r?"rgba("+f(e)+","+f(t)+","+f(n)+","+r+")":"#"+f(e)+f(t)+f(n)}function f(e){return Math.floor(Math.random()*(e+1)).toString(16)}function a(e){return e.type===n?-e.radius+e.xOffset:(!1,e.xOffset)}function u(e){return e.type===n?-e.radius+e.yOffset:(!1,e.yOffset)}function l(e){return e.type===n?e.radius+e.xOffset:e.xOffset+e.width}function d(e){return e.type===n?e.radius+e.yOffset:e.yOffset+e.height}function c(e,t,n,r,i,s){var o={type:e,width:t,height:n,xOffset:r||0,yOffset:i||0};return s&&(o.radius=s),o}e.opspark=e.opspark||{};var h={setDimensionsOn:function(e,t){if(e.dimensions){var n=[a(e),a(t)].sort(r)[0],i=[l(e),l(t)].sort(r)[1],s=[u(e),u(t)].sort(r)[0],o=[d(e),d(t)].sort(r)[1],f=0,c=0;f=i-n,f*=f,t.width=Math.sqrt(f+c),f=0,c=o-s,c*=c,t.height=Math.sqrt(f+c),t.xOffset=n,t.yOffset=s,t.type="irregular",e.radius&&delete e.radius}return e.setBounds(t.xOffset,t.yOffset,t.width,t.height),e.dimensions=t,e.width=t.width,e.height=t.height,e.xOffset=t.xOffset,e.yOffset=t.yOffset,e.type=t.type,e},line:function(e,t,n,r,i,s,o){var f=c("linear",n,r,e,t),a=o||new createjs.Shape;return a.graphics.setStrokeStyle(s).beginStroke(i).moveTo(f.xOffset,f.yOffset).lineTo(n,r),h.setDimensionsOn(a,f)},rect:function(e,n,r,i,s,o,f,a){var u=c(t,e,n,o,f),l=a||new createjs.Shape;return l.graphics.setStrokeStyle(s).beginStroke(i).beginFill(r).drawRect(u.xOffset,u.yOffset,e,n),h.setDimensionsOn(l,u,a)},roundRect:function(e,n,r,i,s,o,f,a,u){var l=c(t,e,n,f,a),d=u||new createjs.Shape;return d.graphics.setStrokeStyle(o).beginStroke(s).beginFill(i).drawRoundRect(l.xOffset,l.yOffset,e,n,r),h.setDimensionsOn(d,l),d.dimensions.cornerRadius=r,d},roundRectComplex:function(e,n,r,i,s,o,f,a,u,l,d,p){var O=c(t,e,n,l,d),g=p||new createjs.Shape;return g.graphics.setStrokeStyle(u).beginStroke(a).beginFill(f).drawRoundRectComplex(O.xOffset,O.yOffset,e,n,r,i,s,o),h.setDimensionsOn(g,O),g.dimensions.radiusTopLeft=r,g.dimensions.radiusTopRight=i,g.dimensions.radiusBottomRight=s,g.dimensions.radiusBottomLeft=o,g},circle:function(e,t,r,i,s,o,f){var a=c(n,2*e,2*e,s,o,e),u=f||new createjs.Shape;return u.graphics.setStrokeStyle(i).beginStroke(r).beginFill(t).drawCircle(a.xOffset,a.yOffset,e),h.setDimensionsOn(u,a),u.radius=e,u},drawEllipse:function(e,n,r,i,s,o,f,a){var u=c(t,e,n,o,f),l=a||new createjs.Shape;return l.graphics.setStrokeStyle(s).beginStroke(i).beginFill(r).drawEllipse(u.xOffset,u.yOffset,e,n),h.setDimensionsOn(l,u)},polyStar:function(e,t,r,i,s,o,f,a,u,l){var d=c(n,2*e,2*e,a,u,e),p=l||new createjs.Shape;return p.graphics.setStrokeStyle(f).beginStroke(o).beginFill(s).drawPolyStar(d.xOffset,d.yOffset,e,t,r||0,i),h.setDimensionsOn(p,d),p.radius=e,p},randomCircleInArea:function(e,t,n,r,i,s){var o,f;return o=s||h.randomRadialProps(e),n&&(t=!0,f=h.line(-o.radius,0,o.radius,0,r||"#000",2),h.line(0,-o.radius,0,o.radius,r||"#000",2,f)),r&&!i&&(i=1),f=h.circle(o.radius+i,r,null,null,null,null,f),h.circle(o.radius,o.color,null,null,null,null,f),f.x=o.x,f.y=o.y,t&&(f.alpha=Math.random()),f},randomRadialProps:function(e,t,n,r,i,f){return{radius:s(t||5,n||20),color:o(r||255,i||255,f||255),x:s(0,e.width),y:s(0,e.height)}},randomColor:o,randomRGBRange:f,getStartPointX:a,getStartPointY:u,getEndPointX:l,getEndPointY:d,blurFilterOn:function e(t,n,r,i){n=n||5,r=r||5,i=i||1;var s=new createjs.BlurFilter(n,r,i);return t.filters=t.filters?t.filters.concat(s):[s],t.cache(-t.radius,-t.radius,t.width,t.height),t},fps:function(e){e=e||"#FFF";var t=new createjs.Text("-- fps","bold 15px Arial",e),n=new createjs.Container;return n.textfield=t,n.addChild(t),n.update=function(e){t.text=Math.round(createjs.Ticker.getMeasuredFPS())+" fps"},n}};e.opspark.draw=h}(window);
