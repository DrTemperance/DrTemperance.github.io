!function(e){"use strict";e.opspark=e.opspark||{};let t=e.opspark;e.opspark.cannon=e.opspark.cannon||{},t.cannon.factory=function(e){let o="projectile";function n(t,n){let a=e.projectile.create(t,n,o);return a.anchor.setTo(.5,.5),a.alpha=0,e.physics.arcade.enable(a),a}e.cannon=e.add.group(),e.projectile=e.add.group(),e.projectile.enableBody=!0;let a=function(t,n,a){var r,l,c;if("top"===t||"bottom"===t){if(n<0||n>e.world.width)throw Error(`You are trying to place a cannon off the stage at ${n}, this is not allowed!`)}else if(("right"===t||"left"===t)&&(n<0||n>e.world.height))throw Error(`You are trying to place a cannon off the stage at ${n}, this is not allowed!`);let i={},p,h,d,s,$,f;if("top"===t)s=n,$=40,f=-180,i.y=e.world.height;else if("bottom"===t)s=n,$=e.world.height-72,f=0,i.y=0;else if("left"===t)s=42,$=n,f=90,i.x=e.world.width;else if("right"===t)s=e.world.width-42,$=n,f=-90,i.x=0;else throw Error(`${t} is not a valid cannon type`);return(p=e.cannon.create(s,$,"cannon")).anchor.setTo(.5,.5),p.angle=f,(h=e.projectile.create(p.x,p.y,o)).anchor.setTo(.5,.5),h.angle=f,h.alpha=0,r=d=e.add.tween(h).to(i,2e3,null,!0,a||0,-1),l=h,c=p,r.onStart.addOnce(function(){l.alpha=1}),r.onComplete.addOnce(function(){l.alpha=0,l.x=c.x,l.y=c.y}),p};t.cannon.create=a}}(window);
