<html lang='EN'>
<head>
	<link href='Heads/Nitwit.webp' id='favicon' rel='icon' />
	<link href='style.css' rel='stylesheet' type='text/css' />
	<title>ERR!!!</title>
	<meta charset='UTF-8' />
	<meta content='width=device-width, initial-scale=1.0' name='viewport' />
</head>

<body draggable='false'>
<div class='Level'>Main Menu - Villager Clicker</div>
<progress id='Bossbar'></progress>
<div class='Board' onmousedown='VillagerAttack()'></div>
<span id='Villager' onmousedown='PlayerAttack()'></span>
<div draggable='false' id='Stats'>
	<div id='Heart_Bar'>
		<img class='Heart' id='health1' src='Stats/FullHeart.png' />
		<img class='Heart' id='health2' src='Stats/FullHeart.png' />
		<img class='Heart' id='health3' src='Stats/FullHeart.png' />
		<img class='Heart' id='health4' src='Stats/FullHeart.png' />
		<img class='Heart' id='health5' src='Stats/FullHeart.png' />
		<img class='Heart' id='health6' src='Stats/FullHeart.png' />
		<img class='Heart' id='health7' src='Stats/FullHeart.png' />
		<img class='Heart' id='health8' src='Stats/FullHeart.png' />
		<img class='Heart' id='health9' src='Stats/FullHeart.png' />
		<img class='Heart' id='health10' src='Stats/FullHeart.png' />
	</div>
	<div class='Bar'><img class='Item' id='item0' onclick='HotbarClick(this)'></div>
	<div id='Hotbar' onclick='GameAudio.GUI_Click.play()'>
		<div class='Bar'><img class='item' draggable='false' id='item1' onclick='HotbarClick(this)'></div>
		<div class='Bar'><img class='item' draggable='false' id='item2' onclick='HotbarClick(this)'></div>
		<div class='Bar'><img class='item' draggable='false' id='item3' onclick='HotbarClick(this)'></div>
		<div class='Bar'><img class='item' draggable='false' id='item4' onclick='HotbarClick(this)'></div>
		<div class='Bar'><img class='item' draggable='false' id='item5' onclick='HotbarClick(this)'></div>
		<div class='Bar'><img class='item' draggable='false' id='item6' onclick='HotbarClick(this)'></div>
		<div class='Bar'><img class='item' draggable='false' id='item7' onclick='HotbarClick(this)'></div>
		<div class='Bar'><img class='item' draggable='false' id='item8' onclick='HotbarClick(this)'></div>
		<div class='Bar'><img class='item' draggable='false' id='item9' onclick='HotbarClick(this)'></div>
	</div>
</div>

<button id='Shop_Button' onclick="document.getElementById('Player.Command.Index').showModal()">Outpost</button>

<dialog id='Player.Command.Index'>
	<span id='Close'>X</span>
	<p>You left and went to the store! I hope you had a good time!</p>
	<div id='Shops'>
		<button onclick="OpenShop('nurse')">Nurse Rancid</button>
		<button onclick="OpenShop('cleric')">Cleric</button>
		<button onclick="OpenShop('weaponsmith')">Weaponsmith</button>
		<button onclick="OpenShop('armorer')">Armorer</button>
		<button onclick="OpenShop('farmer')">Farmer</button>
		<button onclick="OpenShop('mason')">>Mason</button>
		<button onclick="OpenShop('librarian')">Librarian</button>
		<button onclick="OpenShop('smith')">Mistah Smith</button>
		<!--TODO Custom Class Shops-->
	</div>
	<div id='Stations'>
		<button>Furnace</button>
		<button>Campfire</button>
		<button>Stonecutter</button>
		<button>Grindstone</button>
		<button>Smithing Table</button>
		<button>Anvil</button>
		<button>Brewing Stand</button>
		<button>Enchanting Table</button>
		<button>Beacon</button>
	</div>
</dialog>
<dialog id='InitMsg'></dialog>

<script>
  //const OpenShop = Target=>{
  //  let ShopUI = document.querySelector('#Player.Command.Index'), Data = PlayerData.Shops[Target];
  //  ShopUI.appendChild(document.createElement('h1').textContent = Data.name);
  //  for (let {description, img, name} of Data.content) {
  //	  ShopUI.appendChild(document.createElement('div'));
  //	  ShopUI.children[ShopUI.children.length - 1].appendChild(document.createElement('img').src = img);
  //	  ShopUI.children[ShopUI.children.length - 1].appendChild(document.createElement('h2').textContent = name);
  //	  ShopUI.children[ShopUI.children.length - 1].appendChild(document.createElement('p').textContent = description);
  //  }
  //  ShopUI.appendChild(document.createElement('div'));
  //};

  const GameAudio = {
	        GUI_Click       : new Audio('Audio/Click.mp3'),
	        Player_Hurt     : new Audio('Audio/Player_Hurt.mp3'),
	        Villager_Ambient: new Audio('Audio/Villager_Ambient.mp3'),
	        Villager_Death  : new Audio('Audio/Villager_Death.mp3'),
	        Villager_Hurt   : new Audio('Audio/Villager_Hurt.mp3')
        },
        Heart     = {};

  //const Movement = {
  //  cosecant   : async ()=>1 / Math.sin(x),
  //  cosine     : async ()=>Math.cos(x),
  //  cotangent  : async ()=>Math.cos(x) / Math.sin(x),
  //  cubic      : async ()=>Math.pow(x, 3),
  //  logarithmic: async ()=>Math.log(x),
  //  secant     : async ()=>1 / Math.cos(x),
  //  sine       : async ()=>Math.sin(x),
  //  squared    : async ()=>Math.pow(x, 2),
  //  tangent    : async ()=>Math.sin(x) / Math.cos(x)
  //};

  for (let H = 10; H>=1; H--) {
	  Heart[`health${H}`] = document.querySelector(`#health${H}`);
	  Heart[`health${H}`].requirement = H * 2;
  }

  let level = 1,
      x     = document.querySelector('#Villager').x;

  const GameLevels = [
	  {
		  name      : 'The Death',
		  health    : NaN,
		  size      : '0px',
		  background: 'Backgrounds/DeathScreen.webp',
		  head      : undefined,
		  movement  : '(0|0)'
	  }, {
		  name      : 'The Nitwit',
		  health    : 10,
		  phases    : 1,
		  size      : '300px',
		  background: 'Backgrounds/generic.webp',
		  head      : 'Heads/Nitwit.webp',
		  movement  : [`(${x}|${x})`]
	  }, {
		  name      : 'The Farmer',
		  health    : 20,
		  phases    : 2,
		  size      : '275px',
		  background: 'Backgrounds/farm.webp',
		  head      : 'Heads/Farmer.webp',
		  movement  : [
			  `(${x}|${Math.cos(x)})`,
			  `(${x}|${Math.sin(x)})`,
			  `(${x}|${x})`,
			  `(${x}|${Math.tan(x)})`
		  ]
	  }, {
		  name      : 'The Mason',
		  health    : 30,
		  phases    : 2,
		  size      : '250px',
		  background: 'Backgrounds/mason.jpg',
		  head      : 'Heads/Nitwit.webp',
		  movement  : [
			  `(${x}|${Math.tan(x)})`,
			  `(${x}|${Math.cos(x)})`,
			  `(${x}|${x})`,
			  `(${x}|${Math.sin(x)})`,
			  `(${x}|${Math.log(x * 0.5)})`
		  ]
	  }, {
		  name      : 'The Librarian',
		  health    : 40,
		  phases    : 3,
		  size      : '200px',
		  background: 'Backgrounds/library.webp',
		  head      : 'Heads/Librarian.webp',
		  movement  : [
			  `(${x}|${Math.cos(x)})`,
			  `(${x}|${x})`,
			  `(${x}|${Math.log(x)})`,
			  `(${x}|${Math.tan(x ** Math.random() * 2)})`,
			  `(${x}|${Math.sin(x)})`
		  ]
	  }, {
		  name      : 'The Weaponsmith',
		  health    : 50,
		  phases    : 3,
		  size      : '180px',
		  background: 'Backgrounds/blacksmith.webp',
		  head      : 'Heads/Weaponsmith.webp',
		  movement  : [
			  `(${x}|${Math.log(x)})`,
			  `(${x}|${Math.tan(x)})`,
			  `(${x}|${x ** 2})`,
			  `(${x}|${Math.sin(x ** 2)})`,
			  `(${x}|${x})`
		  ]
	  }, {
		  name      : 'The Cleric',
		  health    : 64,
		  phases    : 4,
		  size      : '150px',
		  background: 'Backgrounds/church.webp',
		  head      : 'Heads/Cleric.webp',
		  movement  : [
			  `(${x}|${Math.log(x)})`,
			  `(${x}|${x})`,
			  `(${x}|${x ** 3})`,
			  `(${x}|${Math.tan(x)})`,
			  `(${x}|${Math.cos(x)})`,
			  `(${x}|${x + Math.random() * x})`
		  ]
	  }, {
		  name      : 'The Wandering Trader',
		  health    : 100,
		  phases    : 5,
		  size      : '100px',
		  background: 'Backgrounds/traderBack.webp',
		  head      : 'Heads/trader.webp',
		  movement  : [`(0|0)`]
	  }
  ];

  let VillagerHealth = GameLevels[level].health / GameLevels[level].phases,
      VillagerHeight = parseInt(GameLevels[level].size.height),
      VillagerWidth  = parseInt(GameLevels[level].size.width),
      Speed_Y1       = 30,
      Speed_X        = 30,
      PlayerDamage   = 0,
      Points         = 0,
      Pos_X, Pos_Y,
      Interval,
      VillagerSize,
      LastTime;

  document.querySelector('title').textContent = `${GameLevels[level].name} - Villager Clicker`;


  const Update = Timestamp=>{
	  // Update timing for FPS calculations //
	  let VillagerOffset;
	  LastTime || (LastTime = Timestamp);
	  document.querySelector('.Level').textContent = `Level ${level} - ${GameLevels[level].name}`;

	  if (Points>=VillagerHealth) {
		  level++;

		  document.querySelector('title').textContent = `${GameLevels[level].name} - Villager Clicker`;
		  document.querySelector('#favicon').href = GameLevels[level].head;
		  document.querySelector('#Villager').style.backgroundImage = `url(${GameLevels[level].head})`;

		  Speed_Y1 *= 0.75;
		  Speed_X *= 0.75;
		  Points = 0;
		  GameAudio.Villager_Death.play();
		  DrawBoard();
	  }

	  let DX = Pos_X + Speed_X * ((LastTime - Timestamp) / 500), DY = Pos_Y + Speed_Y1 * ((LastTime - Timestamp) / 500);

	  document.querySelector('#Villager').style.width = GameLevels[level].size;
	  document.querySelector('#Villager').style.height = `${(parseInt(GameLevels[level].size) * 1.25)}px`;
	  document.querySelector('#Villager').style.left = `${Pos_X}px`;
	  document.querySelector('#Villager').style.top = `${Pos_Y}px`;

	  // Check for collisions //
	  VillagerOffset = Math.ceil(VillagerWidth / 3.75),
	  !(DY<document.querySelector('.Board').clientHeight) && (DY = document.querySelector('.Board').clientHeight, Speed_Y1 = -Speed_Y1), DY<0 && (DY = 0, Speed_Y1 = -Speed_Y1),
	  !(DX<document.querySelector('.Board').clientWidth + VillagerOffset) && (DX = document.querySelector('.Board').clientWidth + VillagerOffset, Speed_X = -Speed_X),
	  !(DX>=0) && (DX = 0, Speed_X = -Speed_X);

	  // Update the positions after all checks //
	  Pos_X = DX, Pos_Y = DY;

	  LastTime = Timestamp;
	  requestAnimationFrame(Update);
  };

  window.addEventListener('resize', ()=>DrawBoard());

  //document.querySelector('#Close').addEventListener('click', async ()=>document.querySelector('#Player.Command.Index').close());
  //document.addEventListener('keydown', async ({code})=>{
  //  switch (code) {
  //	  case 'Tab':
  //		  document.querySelector('#Player.Command.Index').showModal();
  //		  break;
  //	  case 'Escape':
  //		  document.querySelector('#Player.Command.Index').close();
  //		  break;
  //				  case 'Slash':
  //				    document.querySelector('.Chat').style.width = '500px';
  //				    document.querySelector('.Chat').appendChild(document.createElement('input'));
  //				    break;
  //				  case 'Enter':
  //				    document.querySelector('.Chat').style.width = 'fit-content';
  //				    document.querySelector('.Chat').appendChild(document.createElement('input'));
  //				    break;
  //  }
  //});

  Interval = requestAnimationFrame(Update);

  const PlayerData = {
	  Items : [
		  {
			  id   : 0,
			  image: 'Items/Empty.webp',
			  name : 'Empty'
		  },
		  {
			  type: 'sword', action: 'attack',
			  tier: {
				  diamond     : {
					  name       : 'Diamond Sword',
					  damage     : 5,
					  aoa        : 7,
					  image      : 'Items/DiamondSword.png',
					  attackSpeed: 630,
					  aria       : {name: 'Diamond Sword', lore: 'diamondy'}
				  },
				  id          : 1,
				  iron        : {
					  name       : 'Iron Sword',
					  damage     : 3,
					  aoa        : 7,
					  image      : 'Items/IronSword.png',
					  attackSpeed: 630,
					  aria       : {name: 'Iron Sword', lore: 'irony'}
				  }, netherite: {
					  name       : 'Netherite Sword',
					  damage     : 7,
					  aoa        : 8,
					  image      : 'Items/NetheriteSword.png',
					  attackSpeed: 630,
					  aria       : {name: 'Netherite Sword', lore: 'tina'}
				  }, stone    : {
					  name       : 'Stone Sword',
					  damage     : 1,
					  aoa        : 6,
					  image      : 'Items/StoneSword.png',
					  attackSpeed: 630,
					  aria       : {name: 'Stone Sword', lore: 'stoney'}
				  }, wooden   : {
					  name       : 'Wooden Sword',
					  damage     : 0,
					  aoa        : 6,
					  image      : 'Items/WoodenSword.png',
					  attackSpeed: 630,
					  aria       : {name: 'Wooden Sword', lore: 'woody'}
				  }
			  }
		  },
		  {
			  type: 'axe', action: 'attack',
			  tier: {
				  wooden      : {
					  name       : 'Wooden Axe',
					  damage     : 1,
					  aoa        : 0,
					  image      : 'Items/WoodenAxe.png',
					  attackSpeed: 1250,
					  aria       : {name: 'Wooden Axe', lore: 'woody'}
				  }, stone    : {
					  name       : 'Stone Axe',
					  damage     : 3,
					  aoa        : 0,
					  image      : 'Items/StoneAxe.png',
					  attackSpeed: 1250,
					  aria       : {name: 'Stone Axe', lore: 'stoney'}
				  }, iron     : {
					  name       : 'Iron Axe',
					  damage     : 4,
					  aoa        : 0,
					  image      : 'Items/IronAxe.png',
					  attackSpeed: 1110,
					  aria       : {name: 'Iron Axe', lore: 'irony'}
				  }, diamond  : {
					  name       : 'Diamond Axe',
					  damage     : 7,
					  aoa        : 0,
					  image      : 'Items/DiamondAxe.png',
					  attackSpeed: 1000,
					  aria       : {name: 'Diamond Axe', lore: 'diamondy'}
				  }, netherite: {
					  name       : 'Netherite Axe',
					  damage     : 9,
					  aoa        : 0,
					  image      : 'Items/NetheriteAxe.png',
					  attackSpeed: 1000,
					  aria       : {name: 'Netherite Axe', lore: 'tina'}
				  }, id       : 2
			  }
		  },
		  {
			  type: 'pickaxe', action: 'attack',
			  tier: {
				  wooden      : {
					  name       : 'Wooden Pickaxe',
					  damage     : 0,
					  aoa        : -7,
					  image      : 'Items/WoodenPickaxe.png',
					  attackSpeed: 200,
					  aria       : {name: 'Wooden Pickaxe', lore: 'woody'}
				  }, stone    : {
					  name       : 'Stone Pickaxe',
					  damage     : 1,
					  aoa        : -6,
					  image      : 'Items/StonePickaxe.png',
					  attackSpeed: 200,
					  aria       : {name: 'Stone Pickaxe', lore: 'stoney'}
				  }, iron     : {
					  name       : 'Iron Pickaxe',
					  damage     : 2,
					  aoa        : -5,
					  image      : 'Items/IronPickaxe.png',
					  attackSpeed: 200,
					  aria       : {name: 'Iron Pickaxe', lore: 'irony'}
				  }, diamond  : {
					  name       : 'Diamond Pickaxe',
					  damage     : 3,
					  aoa        : -4,
					  image      : 'Items/DiamondPickaxe.png',
					  attackSpeed: 150,
					  aria       : {name: 'Diamond Pickaxe', lore: 'diamondy'}
				  }, netherite: {
					  name       : 'Netherite Pickaxe',
					  damage     : 5,
					  aoa        : -3,
					  image      : 'Items/NetheritePickaxe.png',
					  attackSpeed: 100,
					  aria       : {name: 'Netherite Pickaxe', lore: 'tina'}
				  }, id       : 3
			  }
		  },
		  {action: null, id: 4, image: 'Items/Totem.png', item: 'Totem', name: 'Totem of Undying', type: 'Totem'}
	  ],
	  Hotbar: [
		  {item: 0},
		  {item: 0},
		  {item: 0},
		  {item: 0},
		  {item: 0},
		  {item: 0},
		  {item: 0},
		  {item: 0},
		  {item: 0},
		  {item: 0}
	  ],
	  Shops : {
		  cleric     : {
			  name    : 'The Cleric',
			  contents: {
				  potions    : [
					  {
						  name    : 'Healing Potion',
						  duration: 'instant',
						  effect  : ['Healing'],
						  strength: [1, 2, 3]
					  }, {
						  name    : 'Speed Potion',
						  duration: 0.5,
						  effect  : ['Speed'],
						  strength: [1, 2, 3]
					  }, {
						  name    : 'Strength Potion',
						  duration: 0.75,
						  effect  : ['Strength'],
						  strength: [1, 2]
					  }, {
						  name    : 'Resistance Potion',
						  duration: 0.25,
						  effect  : ['Resistance'],
						  strength: [1]
					  }
				  ],
				  specialfood: [
					  {
						  name             : 'Golden Carrot',
						  hunger           : 4,
						  confoundingEffect: ['Vision']
					  }, {
						  name             : 'Golden Apple',
						  hunger           : 6,
						  confoundingEffect: ['Resistance']
					  }, {
						  name             : 'Enchanted Golden Apple',
						  hunger           : 8,
						  confoundingEffect: ['Healing', 'Resistance', 'Vision']
					  }
				  ],
				  tables     : ['EnchantingTable']
			  },
			  icon    : 'Shops/Cleric.png'
		  },
		  weaponsmith: {
			  name    : 'The Weaponsmith',
			  contents: [
				  {
					  Sword     : {
						  Precision: 0.3,
						  Speed    : 1.0,
						  Strength : 0.7
					  }, Axe    : {
						  Precision: 1.3,
						  Strength : 1.7,
						  Speed    : 0.7
					  }, Pickaxe: {
						  Precision: 3.0,
						  Strength : 2.2,
						  Speed    : 0.7
					  }
				  },
				  {SmithingTable: !1}
			  ],
			  model   : 'Shops/cleric.png'
		  },
		  armorer    : {
			  name   : 'The Armorer',
			  content: {
				  armor : [
					  'Leather',
					  'Chain',
					  'Iron',
					  'Gold',
					  'Diamond',
					  'Netherite'
				  ],
				  tables: ['SmithingTable', 'Anvil']
			  },
			  icon   : 'Shops/armorer.png'
		  },
		  farmer     : {
			  name   : 'The Farmer',
			  content: {
				  food  : [
					  {
						  name             : 'Cooked Steak',
						  hunger           : 8,
						  confoundingEffect: !1
					  }, {
						  name             : 'Baked Potato',
						  hunger           : 6,
						  confoundingEffect: !1
					  }, {
						  name             : 'Carrot',
						  hunger           : 4,
						  confoundingEffect: !1
					  }, {
						  name             : 'Cooked Chicken',
						  hunger           : 10,
						  confoundingEffect: !1
					  }, {
						  name             : 'Apple',
						  hunger           : 2,
						  confoundingEffect: !1
					  }, {
						  name             : 'Cake',
						  hunger           : 16,
						  confoundingEffect: !1
					  }
				  ],
				  tables: ['Smoker', 'Campfire']
			  },
			  icon   : 'Shops/farmer.png'
		  },
		  mason      : {
			  name   : 'The Mason',
			  content: {
				  materials:
								  [
									  {
										  Base  : 'Wood',
										  Stock : 256,
										  Health: 3
									  }, {
									  Base  : 'Stone',
									  Stock : 256,
									  Health: 6
								  }, {
									  Base  : 'Brick',
									  Stock : 256,
									  Health: 9
								  }
								  ],
				  tables   : ['stonecutter']
			  },
			  icon   : 'Shops/mason.png'
		  },
		  stations   : {
			  enchantingTable: {acquired: !1, lapis: 0, level: 1},
			  smithingTable  : {acquired: !1},
			  stonecutter    : {acquired: !1, level: 0},
			  grindstone     : {acquired: !1, modules: {recycle: !1}},
			  anvil          : {acquired: !1, damage: 0},
			  campfire       : {acquired: !1, fuel: 0},
			  furnace        : {
				  acquired: !1,
				  fuel    : 0,
				  modules : {
					  upgraded: !1,
					  blast   : !1,
					  smoke   : !1
				  }
			  }
		  },
		  classist   : {
			  playerClass: 'unclassified',
			  // Can be ['? (unknown)','Engineer (Idle)','Bowman (Range)','Mage (Magic)','Brute' (Melee)]
			  unset     : !1,
			  engineer  : !1,
			  fletcher  : !1,
			  illusioner: !1,
			  brute     : !1
		  }
	  }
  };

  // Functions //

  async function DrawHearts() {
	  for (let D = 10; D>=1; D--) {
		  20 - PlayerDamage<2 * D
		  ? 20 - PlayerDamage===1 - 2 * D && (Heart[`health${D}`].status = 'half', Heart[`health${D}`].src = 'Stats/HalfHeart.png')
		  : Heart[`health${D}`].status = 'full', Heart[`health${D}`].src = 'Stats/FullHeart.png',
		  20 - PlayerDamage<1 - 2 * D && (Heart[`health${D}`].status = 'empty', Heart[`health${D}`].src = 'Stats/Empty.png');
	  }
  }

  async function PlayerAttack() {
	  Points++;

	  GameAudio.Villager_Hurt.play();

	  Speed_X = -Speed_Y1, Speed_Y1 = -Speed_X;
	  Speed_X>0 ? Speed_X += 50 : Speed_X -= 50, Speed_Y1>0 ? Speed_Y1 += 50 : Speed_Y1 -= 50;

	  //smooth rotation

	  for (let i = 0; i<=35; i++) {
		  requestAnimationFrame(()=>{
			  if (Math.random()<0.5) document.getElementById('Villager').style.rotate = `${i}deg`; else document.getElementById('Villager').style.rotate = `-${i}deg`;
		  })
	  }
	  document.getElementById('Villager').style.filter = `blur(${(Math.PI / Speed_X)}px)`;
	  document.getElementById('Villager').style.transition = '0.1s ease-out';
	  setTimeout(()=>{
		  document.getElementById('Villager').style.filter = '';
		  document.getElementById('Villager').style.transition = '';
		  for (let i = 35; i>=0; i--) {
			  requestAnimationFrame(()=>{
				  document.getElementById('Villager').style.rotate = `${i}deg`;
			  })
		  }
	  }, 175);

	  DrawBoard();
  }

  function VillagerAttack() {
	  PlayerDamage++;

	  level!==0 && (GameAudio.Player_Hurt.play(), DrawHearts());

	  if (PlayerDamage>=20 && level!==0) {
		  if (()=>Hotbar.forEach(item=>item.type==='Totem')) {
			  PlayerDamage *= 0.25;
		  } else {
			  level = 0;
			  document.querySelector('.Chat').style.display = 'none';
			  let rotate = 0;
			  document.getElementById('Hotbar').transition = '1s linear';
			  document.getElementById('Hotbar').scaleY = 0;
			  DrawBoard();
			  setInterval(()=>{
				  for (let H = 1; H<=10; H++) {rotate += 50 * Math.random(), Heart[`health${H}`].style.transition = '0.2s linear', Heart[`health${H}`].style.transform = `rotate(${rotate}deg)`}
			  }, 25);
			  cancelAnimationFrame(Interval);
		  }
	  }
  }

  function DrawBoard() {
	  VillagerWidth = parseInt(GameLevels[level].size);
	  VillagerHeight = VillagerWidth * 1.25;
	  VillagerSize = Math.max(document.getElementById('Villager').clientWidth, document.getElementById('Villager').clientHeight);

	  Pos_Y = Math.random() * (document.querySelector('.Board').clientHeight - VillagerSize - VillagerHeight);
	  Pos_X = Math.random() * (document.querySelector('.Board').clientWidth - VillagerSize - VillagerWidth);

	  document.getElementById('Villager').style.width = GameLevels[level].size;
	  document.getElementById('Villager').style.height = `${VillagerHeight}px`;
	  document.getElementById('Villager').style.left = `${Pos_X}px`;
	  document.getElementById('Villager').style.top = `${Pos_Y}px`;
	  document.getElementById('Villager').style.backgroundImage = `url(${GameLevels[level].head})`;

	  document.querySelector('.Board').style.background = `url(${GameLevels[level].background})`;
	  document.querySelector('.Board').style.Backgroundsize = '100% 100%';

	  //for (let I = 0; I<PlayerData.Hotbar.length; I++) document.getElementById(`item${I}`).src = PlayerData.Items[PlayerData.Hotbar[I].item].image;

	  document.getElementById('Bossbar').value = GameLevels[level].health - Points;
	  document.getElementById('Bossbar').max = GameLevels[level].health;

	  DrawHearts();
  }

  function HotbarClick(IntSlot) {
	  const Slot = IntSlot.id.slice(4), Item = PlayerData.Hotbar[Slot];
	  Item.type ? new HandleItem(Slot, Item) : console.error(`Slot ${Slot} returned w/ ${Item.item}`);
  }

  function OpenSlot() {for (let Slot of PlayerData.Hotbar) if (Slot.item===0 || Slot.type==='empty') return Slot;}

  function HandleItem(ID) {
	  let Slot = ID.id.split('item')[1].trim();
	  let Item = [... (PlayerData.Hotbar)][Slot];
	  console.info(`slot: ${Slot}, item: ${Item}`);
	  switch (Item.type) {
		  case 'sword':
			  let {aoa, damage, attackSpeed, name, image, aria} = Item.tier[`${Item.tier}`];
			  AttackData(aoa, damage, attackSpeed, name, image, aria);

		  case 'axe':
		  case 'pickaxe':
		  case 'potion':
		  case 'Totem':

		  default:
			  console.info(`Case saw ${Item}, ${this}`);
			  break;
	  }
  }

  // Start Shops //

  for (let s = 0; s<Shops.length; s++) document.getElementById('Shops').children[s].innerHTML = PlayerData.Shops[i];

  const AttackData = (aoa, damage, attackSpeed, name, image, aria)=>{let AttackData = {aoa, damage, attackSpeed, name, image, aria}};

  // Begin //

  DrawBoard();
  DrawHearts();

</script>
</body>
</html>